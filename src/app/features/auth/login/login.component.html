<h2 class="text-2xl font-bold mb-6 text-center">Đăng nhập</h2>

<form [formGroup]="form" (ngSubmit)="onLogin()" class="flex flex-col gap-4">
  <tui-input
    formControlName="email"
    [tuiTextfieldCleaner]="true"
    >
    Email
    <input
      autocomplete="email"
      tuiTextfieldLegacy
      type="email"
      />
  </tui-input>
  @if (email?.invalid && email?.touched) {
    <div class="text-red-600 text-sm">
      @if (form.hasError('email', 'required')) {
        <div>Email là bắt buộc</div>
      }
      @if (form.hasError('email', 'email')) {
        <div>Email không hợp lệ</div>
      }
    </div>
  }

  <tui-input
    formControlName="password"
    type="password"
    [tuiTextfieldCleaner]="true"
    class="w-full"
    >
    Mật khẩu
    <input
      autocomplete="password"
      tuiTextfieldLegacy
      type="password"
      />
  </tui-input>
  @if (password?.invalid && password?.touched) {
    <div class="text-red-600 text-sm">
      @if (form.hasError('required', 'password')) {
        <div>Mật khẩu là bắt buộc</div>
      }
      @if (form.hasError('minlength', 'password')) {
        <div>Mật khẩu tối thiểu 6 ký tự</div>
      }
    </div>
  }

  <button
    [loading]="loginApiStatus === HttpStatus.LOADING"
    tuiButton
    type="submit"
    appearance="primary"
    size="l"
    class="w-full mt-2"
    >
    Đăng nhập
  </button>
</form>
